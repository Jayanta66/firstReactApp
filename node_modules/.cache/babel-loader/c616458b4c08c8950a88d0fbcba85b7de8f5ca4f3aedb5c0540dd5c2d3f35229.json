{"ast":null,"code":"import React,{Component}from'react';import TodoDataService from'../../api/todo/TodoDataService.js';import AuthenticationService from'./AuthenticationService.js';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ListTodosComponent extends Component{constructor(props){console.log('constructor');super(props);this.state={todos:[],message:null};this.deleteTodoClicked=this.deleteTodoClicked.bind(this);this.updateTodoClicked=this.updateTodoClicked.bind(this);this.addTodoClicked=this.addTodoClicked.bind(this);this.refreshTodos=this.refreshTodos.bind(this);}componentWillUnmount(){console.log('componentWillUnmount');}shouldComponentUpdate(nextProps,nextState){console.log('shouldComponentUpdate');console.log(nextProps);console.log(nextState);return true;}componentDidMount(){console.log('componentDidMount');this.refreshTodos();console.log(this.state);}refreshTodos(){let username=AuthenticationService.getLoggedInUserName();TodoDataService.retrieveAllTodos(username).then(response=>{//console.log(response);\nthis.setState({todos:response.data});});}deleteTodoClicked(id){let username=AuthenticationService.getLoggedInUserName();//console.log(id + \" \" + username);\nTodoDataService.deleteTodo(username,id).then(response=>{this.setState({message:\"Delete of todo \".concat(id,\" Successful\")});this.refreshTodos();});}addTodoClicked(){this.props.history.push(\"/todos/-1\");}updateTodoClicked(id){console.log('update '+id);this.props.history.push(\"/todos/\".concat(id));// /todos/${id}\n// let username = AuthenticationService.getLoggedInUserName()\n// //console.log(id + \" \" + username);\n// TodoDataService.deleteTodo(username, id)\n//  .then (\n//      response => {\n//         this.setState({message : `Delete of todo ${id} Successful`})\n//         this.refreshTodos()\n//      }\n//  )\n}render(){console.log('render');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List Todos\"}),this.state.message&&/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-success\",children:this.state.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Target Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IsCompleted?\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Update\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.todos.map(todo=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.description}),/*#__PURE__*/_jsx(\"td\",{children:todo.done.toString()}),/*#__PURE__*/_jsx(\"td\",{children:moment(todo.targetDate).format('YYYY-MM-DD')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:()=>this.updateTodoClicked(todo.id),children:\"Update\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:()=>this.deleteTodoClicked(todo.id),children:\"Delete\"})})]},todo.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.addTodoClicked,children:\"Add\"})})]})]});}}export default ListTodosComponent;","map":{"version":3,"names":["React","Component","TodoDataService","AuthenticationService","moment","jsx","_jsx","jsxs","_jsxs","ListTodosComponent","constructor","props","console","log","state","todos","message","deleteTodoClicked","bind","updateTodoClicked","addTodoClicked","refreshTodos","componentWillUnmount","shouldComponentUpdate","nextProps","nextState","componentDidMount","username","getLoggedInUserName","retrieveAllTodos","then","response","setState","data","id","deleteTodo","concat","history","push","render","children","class","className","map","todo","description","done","toString","targetDate","format","onClick"],"sources":["C:/Users/wow/Desktop/New folder/frontend/todo-app/src/components/todo/ListTodosComponent.jsx"],"sourcesContent":["import React, {Component} from 'react'\nimport TodoDataService from '../../api/todo/TodoDataService.js'\nimport AuthenticationService from './AuthenticationService.js'\nimport moment from 'moment'\n\nclass ListTodosComponent extends Component {\n\n    constructor(props){\n        console.log('constructor')\n        super(props)\n        this.state = {\n            todos : [],\n            message : null\n        }\n        this.deleteTodoClicked = this.deleteTodoClicked.bind(this)   \n        this.updateTodoClicked = this.updateTodoClicked.bind(this)   \n        this.addTodoClicked = this.addTodoClicked.bind(this)\n        this.refreshTodos = this.refreshTodos.bind(this)\n    }\n\n    componentWillUnmount() {\n        console.log('componentWillUnmount')\n    }\n    \n    shouldComponentUpdate(nextProps, nextState) {\n        console.log('shouldComponentUpdate')\n        console.log(nextProps)\n        console.log(nextState)\n        return true\n    }\n\n    componentDidMount() {\n        console.log('componentDidMount')\n        this.refreshTodos();\n        console.log(this.state)\n    }\n\n    refreshTodos() {\n        let username = AuthenticationService.getLoggedInUserName()\n        TodoDataService.retrieveAllTodos(username)\n          .then(\n              response => {\n                  //console.log(response);\n                  this.setState({todos : response.data})\n              }\n          ) \n    }\n\n    deleteTodoClicked(id) {\n        let username = AuthenticationService.getLoggedInUserName()\n        //console.log(id + \" \" + username);\n        TodoDataService.deleteTodo(username, id)\n         .then (\n             response => {\n                this.setState({message : `Delete of todo ${id} Successful`})\n                this.refreshTodos()\n             }\n         )\n        \n    }\n\n    addTodoClicked() {\n        this.props.history.push(`/todos/-1`)\n    }\n\n    updateTodoClicked(id) {\n        console.log('update ' + id)\n        this.props.history.push(`/todos/${id}`)\n        // /todos/${id}\n        // let username = AuthenticationService.getLoggedInUserName()\n        // //console.log(id + \" \" + username);\n        // TodoDataService.deleteTodo(username, id)\n        //  .then (\n        //      response => {\n        //         this.setState({message : `Delete of todo ${id} Successful`})\n        //         this.refreshTodos()\n        //      }\n        //  )\n        \n    }\n\n    render() {\n        console.log('render')\n        return (\n            <div>\n                 <h1>List Todos</h1>\n                 {this.state.message && <div class=\"alert alert-success\">{this.state.message}</div>}\n                 <div className=\"container\">\n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th>Description</th>\n                                <th>Target Date</th>\n                                <th>IsCompleted?</th>\n                                <th>Update</th>\n                                <th>Delete</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            this.state.todos.map (\n                                todo =>\n                                    <tr key={todo.id}>\n                                        <td>{todo.description}</td>\n                                        <td>{todo.done.toString()}</td>\n                                        <td>{moment(todo.targetDate).format('YYYY-MM-DD')}</td>\n                                        <td><button className=\"btn btn-success\" onClick={() => this.updateTodoClicked(todo.id)}>Update</button></td>\n                                        <td><button className=\"btn btn-warning\" onClick={() => this.deleteTodoClicked(todo.id)}>Delete</button></td>\n                                    </tr>\n                            )\n                            }\n                        </tbody>\n                    </table>\n                    <div className=\"row\">\n                        <button className=\"btn btn-success\" onClick={this.addTodoClicked}>Add</button>\n                    </div>\n                 </div>\n            </div>\n        )\n    }\n}\n\nexport default ListTodosComponent"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}